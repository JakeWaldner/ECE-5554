\documentclass{article}

\usepackage{listings}
\usepackage{graphicx}
\usepackage{color} %red, green, blue, yellow, cyan, magenta, black, white
\usepackage{amsfonts}
\usepackage{mathtools}
\usepackage{amsmath}
\usepackage{amssymb}

\definecolor{mygreen}{RGB}{28,172,0} % color values Red, Green, Blue
\definecolor{mylilas}{RGB}{170,55,241}
%% Preamble done!
%% Begin document
\begin{document}
\lstset{language=Matlab,%
    %basicstyle=\color{red},
    breaklines=true,%
    morekeywords={matlab2tikz},
    keywordstyle=\color{blue},%
    morekeywords=[2]{1}, keywordstyle=[2]{\color{black}},
    identifierstyle=\color{black},%
    stringstyle=\color{mylilas},
    commentstyle=\color{mygreen},%
    showstringspaces=false,%without this there will be a symbol in the places where there is a space
    numbers=left,%
    numberstyle={\tiny \color{black}},% size of the numbers
    numbersep=12pt, % this defines how far the numbers are from the text
    emph=[1]{for,end,break},emphstyle=[1]\color{red}, %some words to emphasise
    %emph=[2]{word1,word2}, emphstyle=[2]{style},    
}
\label{Cover}
	\begin{center}
	\large{ECE-5554 Computer Vision: Problem Set 1} 
	\vfill
	Murat Ambarkutuk \\ murata@vt.edu
	\vfill
	Mechanical Engineering Department,\\ Virginia Polytechnic Institute and State University
	\vfill
	\today
	\end{center}
\pagebreak 
\large{Answer Sheet}
\label{Short Answer Problems}
\section{Short Answer Problems}
\begin{enumerate}
	% 1- Give an example of how one can exploit the associative property of
	% convolution to more efficiently filter an image.
	\item The computational complexity of convolution for any arbitrary
	kernel ${F_0}_{[m\times n]}$ and image ${I_0}_{[M\times N]}$:
	$$\mathcal{O}(MNmn)$$
	Hence, applying various filters will drastically increase
	the computational cost of filtering process.\\
	For instance, ${F_0}_{[m\times n]} \ast ({F_1}_{[m\times n]} \ast
	{I_0}_{[M\times N]})$ will be computed with the complexity of $2 \times
	\mathcal{O}(MNmn)$. \\
	On the other hand, associative property of convolution can be
	utilizied by convolving the filters first, then applying the acquired filter to
	image:
	$({F_0}_{[m\times n]} \ast {F_1}_{[m\times n]}) \ast
	{I_0}_{[M\times N]}$ $$\mathcal{O}(m^2n^2) + \mathcal{O}(MNmn)$$
	Given that in any filtering process the size of filter
	kernel, by its nature, will be smaller than the image size, the computational
	complexity will be reduced thanks to the assosicative property of convolution.
	$$\mathcal{O}{(m^2n^2)} + \mathcal{O}(MNmn) \ll 2 \times \mathcal{O}(MNmn)$$
	% 2- This is the input image: [0 0 1 1 0 0 1 1]. What is the result of dilation
	% with a structuring element [1 1 1]?
	\item 
	$$\vec{I} = \begin{bmatrix} 0 & 0 & 1 & 1 & 0 & 0 & 1 & 1\end{bmatrix}
	, \vec{f}= \begin{bmatrix} 1 & 1 & 1\end{bmatrix}$$
	\begin{equation} 
	\begin{split}
	\vec{H} & = \vec{I} \bigoplus \vec{f} \\
	& = \begin{bmatrix} 0 & 1 & 1 & 1 & 1 & 1 & 1 & 1 & 1 \end{bmatrix}
	\end{split}
	\end{equation}
	% 3- The filter fâ€™ = [0 -1/2 0 1/2 0] gives an estimate of the first derivative
	% of the image in the x direction.
	% What is the corresponding second derivative filter f". (Hint: Assymetric
	% filters must be flipped prior to convolution.)
	\item $ \vec{f''} = \begin{bmatrix}  0 & \frac{1}{2} & - \frac{1}{2} &
	-\frac{1}{2} & \frac{1}{2} & 0 \end{bmatrix}$
	% 4- Name two specific ways in which one could reduce the amount of fine, detailed edges that are detected
	% with the Canny edge detector.
	\item % TODO Read the Canny Edge Detection algorithm
	\begin{enumerate}
		\item Gaussian Kernel: Since Canny edge detection algorithm uses Gaussian
		filter to reduce noise. However, too big kernel will smooth out some of the
		detail in the input image. In that case, output image would have fewer fine
		edges.
		\item Wrong Thresholding: Setting too high numbers for high and low threshold
		would reduce the amount of fine and detailed edges. These values set the
		overall performance of the algorithm in the steps of double thresholding and
		hysteresis edge tracking. 
		% In the double thresholding step, any pixel whose
		% gradient magnitude is above than higher threshold is marked as 'strong
		% edges', while any pixel whose gradient value is within the high and low
		% threshold range, marked 'candidate edges'. On the other hand, all the pixels
		% whose gradient magnitude is below than low threshold are subject
		% elemination.
		In the double thresholding step, pixels are marked and categorized according
		to their gradient magnitude. Setting too high threshold values would miss some
		of the fine, detailed edges since they might have lower gradient magnitude
		values than high threshold value. Likewise, too high threshold
		values would have impact on performance of hysteresis edge tracking step.
	\end{enumerate}
	% 5- Describe a possible flaw in the use of additive Gaussian noise to
	% represent image noise.
	% TODO Additive Gaussian Noise, mean zero
	\item In real world applications noise occuring in the image may vary
	depending on many variables, namely, the lightning conditions of the
	environment in which the camera set up or the type of sensor that are being
	used. For that reason, modeling the noise with Gaussian noise may not describe
	the real world for each case of application. 
	% 6- Design a method that takes video data from a camera perched above a conveyor belt at an automotive
	% equipment manufacturer, and reports any flaws in the assembly of a part. Your
	% response should be a list of concise, specific steps, and should incorporate
	% several techniques covered in class thus far.
	% Specify any important assumptions your method makes. 
	% TODO Revise the solution flow
	\item A tentative flow of solution can be used for many generic vision
	problems:
	\begin{enumerate}
		\item Pre-processing (Preparation)
		\begin{enumerate}
			\item Data acquisition
			\item Data reduction (Downsampling, color space change \\
			(e.g. RGB, $\to$, Grayscale, defining region of interest\ldots) (if needed)
			\item Noise reduction (Morphological Operations)
		\end{enumerate}
		
		\item Processing (Analysis)
		\begin{enumerate}
	    	\item Detection
	    	\begin{enumerate}
	    		\item Object Detection (Either, or combinations of the steps given below)
	    			\begin{itemize}
	    				\item Background Substraction
	    				\item Feature (Color, geometry, edge, depth \ldots) based (Connected
	    				Components may be utilized with the combination of thresholding)
	    				\item Texture based  				
	    			\end{itemize}
	    		\item Defect detection on the detected object
	    			\begin{itemize}
	    				\item Feature based
	    					\begin{itemize}
	    						\item Color consistency 
	    						\item Geometrical Properties (Hough circles and/or lines can be fitted to check shape defects)
	    						\item Depth data also may give hint on the surface imperfections
	    					\end{itemize}
	    				\item Texture based (Imperfections might have impact on the texture
	    				statistics )
	    				\item Frequency response based	    				
	    			\end{itemize}
	    	\end{enumerate}
		\end{enumerate}
	\end{enumerate}
\end{enumerate}
\pagebreak

\label{Programming Problem (Seam Carving)}
\section{Programming Problem (Seam Carving)}
\begin{enumerate}
	\item Width Reducing
	% Write a script called SeamCarvingReduceWidth.m(py) which does the following by using
	% the functions defined above:
	% (a) Loads a color input image called inputSeamCarvingPrague.jpg. Download the
	% image from here (http://filebox.ece.vt.edu/~F15ECE5554ECE4984/resources/images/inputSeamCarvingPrague.
	% jpg)
	% 2(b) Reduces the width of the image by 100 pixels using the above functions.
	% (c) Saves the resulting image as outputReduceWidthPrague.png. Submit it.
	% Display this output in your answer sheet. Submit the script.
	% (d) Repeat the steps for an input image called inputSeamCarvingMall.jpg.
	% Download the image from here
	
	% (http://filebox.ece.vt.edu/~F15ECE5554ECE4984/resources/images/inputSeamCarvingMall.
	% jpg). Save the output as outputReduceWidthMall.png. Display the output in
	% your answer sheet.
	\begin{enumerate} 
		\item Prague (Width Resizing) \\
		\begin{enumerate}
			\item Originial Image: \\ 
			\includegraphics[width=\linewidth]{../matlab/inputSeamCarvingPrague.jpg}
			\item Resized Image: \\
			\includegraphics[width=\linewidth]{../matlab/outputReduceWidthPrague.png}
			\item Comparison: \\
			\includegraphics[width=\linewidth]{../matlab/outputReduceWidthInputvsDynamicPrague.png}
		\end{enumerate}
		\pagebreak
		\item Mall (Width Resizing)\\
		\begin{enumerate}
			\item Originial Image: \\ 
			\includegraphics[width=\linewidth]{../matlab/inputSeamCarvingMall.jpg}
			\item Resized Image: \\
			\includegraphics[width=\linewidth]{../matlab/outputReduceWidthMall.png}
			\item Comparison: \\
			\includegraphics[width=\linewidth]{../matlab/outputReduceWidthInputvsDynamicMall.png}
		\end{enumerate}
		\pagebreak
		\item Script: SeamCarvingReduceWidth.m
		\lstinputlisting{../matlab/SeamCarvingReduceWidth.m}
	\end{enumerate}
	\pagebreak
	\item Height Resizing \\
		\begin{enumerate} 
		\item Prague (Height Resizing) \\
		\begin{enumerate}
			\item Originial Image: \\ 
			\includegraphics[width=\linewidth]{../matlab/inputSeamCarvingPrague.jpg}
			\item Resized Image: \\
			\includegraphics[width=\linewidth]{../matlab/outputReduceWidthPrague.png}
			\item Comparison: \\
			\includegraphics[width=\linewidth]{../matlab/outputReduceHeightInputvsDynamicPrague.png}
		\end{enumerate}
		\pagebreak
		\item Mall (Height Resizing) \\
		\begin{enumerate}
			\item Originial Image: \\ 
			\includegraphics[width=\linewidth]{../matlab/inputSeamCarvingMall.jpg}
			\item Resized Image: \\
			\includegraphics[width=\linewidth]{../matlab/outputReduceWidthMall.png}
			\item Comparison: \\
			\includegraphics[width=\linewidth]{../matlab/outputReduceHeightInputvsDynamicMall.png}
		\end{enumerate}
		\pagebreak
		\item Script: SeamCarvingReduceHeight.m
		\lstinputlisting{../matlab/SeamCarvingReduceHeight.m}
	\end{enumerate}

	\item 3
	% 3- Display in your answer sheet: (a) the energy function output for the
	% provided image inputSeamCarvingPrague.jpg, and (b) the two corresponding cumulative minimum
	% energy maps for the seams in each direction (use the Matlabâ€™s imagesc or Pythonâ€™s matplotlib.pyplot.imshow).
	% Explain why these outputs look the way they do given the original imageâ€™s
	% content.
	\begin{enumerate}
		\item Energy function output (Prague)
		\item The two corresponding cumulative energy maps for each direction: \\
		\begin{enumerate}
			\item Width Operations: 
			\item Height Operations:
		\end{enumerate}
	\end{enumerate}
	\item 4
	% 4- For the same image inputSeamCarvingPrague.jpg, display the original image
	% together with (a) the first selected horizontal seam and (b) the first selected
	% vertical seam in your answer sheet. Explain why these are the optimal seams for this image.
	\item 5
	% 5- Make some change to the way the energy function is computed (i.e., filter
	% used, its param- eters, or incorporating some other prior knowledge). Display the result and
	% explain the impact on the results for some example in your answer sheet. You need not submit this code.
	\item 6
	% 6- Now, for the real results! Use your system with different kinds of images
	% and seam combi- nations, and see what kind of interesting results it can produce. The goal is
	% to form some perceptually pleasing outputs where the resizing better preserves content than a blind resizing would, as well as
	% some examples where the output looks unrealistic or has artifacts.
	% Include results for at least three images of your own choosing. Include an
	% example or two of a "bad" outcome. Be creative in the images you choose, and in the amount of combined vertical and horizontal
	% carvings you apply. Try to predict types of images where you might see
	% something interesting happen.
	% Itâ€™s ok to fiddle with the parameters (seam sequence, number of seams, etc) to
	% look for interesting and explainable outcomes.
	% For each result, include the following things, clearly labeled:
	% (a) the original input image.
	% (b) your systemâ€™s resized image,
	% (c) the result one would get if instead a simple resampling were used (via
	% Matlabâ€™s imresize or Pythonâ€™s scipy.misc.imresize)
	% (d) the input and output image dimensions,
	% (e) the sequence of removals that were used
	% (f) a qualitative explanation of what weâ€™re seeing in the output.
\end{enumerate}
\pagebreak

\label{Extra Credit}
\section{Extra Credit}
\begin{enumerate}
	\item
	% \setcounter{enumi}{4}
	\item 
\end{enumerate}
\end{document}
